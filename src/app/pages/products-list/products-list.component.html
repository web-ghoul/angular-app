<section class="grid justify-stretch items-center gap-6">
  <div class="grid justify-stretch items-center gap-4 md:gap-3 sm:!gap-2">
    <h1 class="text-3xl flex justify-start items-center gap-2">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"
        />
      </svg>
      Products
    </h1>
    <div class="flex justify-end items-center flex-wrap gap-2 md:gap-1">
      <mat-form-field>
        <mat-label>Select Category</mat-label>
        <mat-select
          [value]="selectedCategory()"
          matNativeControl
          (selectionChange)="handleCategoryChange($event.value)"
        >
          <mat-option value="">all</mat-option>
          @for (category of categories(); track $index) {
          <mat-option value="{{ category }}">{{ category }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Sort</mat-label>
        <mat-select
          [value]="selectedSort()"
          matNativeControl
          (selectionChange)="handleSort($event.value)"
        >
          <mat-option value="desc">Desc</mat-option>
          <mat-option value="asc">Asc</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  @if (loading()) {
  <h1 class="text-3xl font-[500] text-gray-500 text-center">Loading...</h1>
  }@else {
  <div
    class="grid justify-stretch items-center grid-cols-4 lg:grid-cols-3 md:!grid-cols-2 xs:!grid-cols-1 grid-rows-1 gap-6 md:gap-4 sm:!gap-2"
  >
    @for (product of products(); track $index) {
    <app-product-card class="h-full" [product]="product" />
    }
  </div>
  }
</section>
